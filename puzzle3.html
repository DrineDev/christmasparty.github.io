<!DOCTYPE html>
<html>
    <head>
        <title></title>
    </head>
    <link rel="stylesheet" href="towerOfHanoi.css">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const inputs = document.querySelectorAll('input[type="radio"]');
            inputs.forEach(input => {
                input.addEventListener('change', checkWinCondition);
            });
    
            function checkWinCondition() {
                // Check if all the last radio buttons for each disc group are checked
                const winConditions = [
                    document.querySelector('input[name="one"]:nth-of-type(4):checked'),
                    document.querySelector('input[name="two"]:nth-of-type(4):checked'),
                    document.querySelector('input[name="three"]:nth-of-type(4):checked'),
                    document.querySelector('input[name="four"]:nth-of-type(4):checked'),
                    document.querySelector('input[name="five"]:nth-of-type(4):checked'),
                    document.querySelector('input[name="six"]:nth-of-type(4):checked'),
                ];
    
                // Check if all conditions are met
                if (winConditions.every(condition => condition)) {
                    onWin();
                }
            }
    
            function onWin() {
                const winMessage = document.querySelector('.win');
                winMessage.classList.add('show'); // Add class to make the message visible
                
                // Show the "Proceed to Puzzle 4" button
                const nextPuzzleButton = document.getElementById('nextPuzzleButton');
                nextPuzzleButton.style.display = 'block';
            }
        });
    </script>
    <main>
        <h1>Welcome to the Christmas Tree Tower of Hanoi!</h1>
        <p>It's your job to help decorate a beautiful Christmas tree. But here's the challenge: you need to move a set of sparkling ornaments from one tree branch to another. Each ornament must be placed on a branch in a specific orderâ€”only one ornament can be moved at a time, and no ornament can rest on a smaller one. Can you solve the puzzle and arrange the ornaments perfectly to make the tree shine just in time for Christmas? The holiday spirit is your guide as you take on this merry challenge!</p>
        <form>
            <div class="discs">
                <input id="one" type="text" tabindex="-1" readonly>
                <input name="one" type="radio" tabindex="-1" checked>
                <input name="one" type="radio" tabindex="-1">
                <input name="one" type="radio" tabindex="-1">
                <label for="one"></label>
                <div class="disc one"></div>
        
                <input id="two" type="text" tabindex="-1" readonly>
                <input name="two" type="radio" tabindex="-1" checked>
                <input name="two" type="radio" tabindex="-1">
                <input name="two" type="radio" tabindex="-1">
                <label for="two"></label>
                <div class="disc two"></div>
        
                <input id="three" type="text" tabindex="-1" readonly>
                <input name="three" type="radio" tabindex="-1" checked>
                <input name="three" type="radio" tabindex="-1">
                <input name="three" type="radio" tabindex="-1">
                <label for="three"></label>
                <div class="disc three"></div>
        
                <input id="four" type="text" tabindex="-1" readonly>
                <input name="four" type="radio" tabindex="-1" checked>
                <input name="four" type="radio" tabindex="-1">
                <input name="four" type="radio" tabindex="-1">
                <label for="four"></label>
                <div class="disc four"></div>
        
                <input id="five" type="text" tabindex="-1" readonly>
                <input name="five" type="radio" tabindex="-1" checked>
                <input name="five" type="radio" tabindex="-1">
                <input name="five" type="radio" tabindex="-1">
                <label for="five"></label>
                <div class="disc five"></div>
        
                <input id="six" type="text" tabindex="-1" readonly>
                <input name="six" type="radio" tabindex="-1" checked>
                <input name="six" type="radio" tabindex="-1">
                <input name="six" type="radio" tabindex="-1">
                <label for="six"></label>
                <div class="disc six"></div>
        
                <input id="zero" type="text" tabindex="-1" readonly>
        
                <div class="spacer a"></div>
                <div class="separator ab"></div>
                <div class="spacer b"></div>
                <div class="separator bc"></div>
                <div class="spacer c"></div>
        
                <div class="tower a"></div>
                <div class="tower b"></div>
                <div class="tower c"></div>
        
            <!-- Modify the existing .win section in puzzle3.html -->
                <div class="win">
                    <div class="win-content">
                        <p>Congratulations! On to the next!</p>
                        <a href="puzzle4.html" class="next-puzzle-button">Proceed to Puzzle 4</a>
                    </div>
                </div>
            </div>
        <div class="bottom"></div>
        <button type="reset">New Game</button>
        </form>
    </main>
</html>
